"0","indicators <- c(""BX.KLT.DINV.WD.GD.ZS"", ""NY.GDP.DEFL.KD.ZG"","
"0","""NY.GDP.MKTP.CD"", ""NY.GDP.MKTP.KD.ZG"","
"0","""NY.GDP.PCAP.CD"", ""NY.GDP.PCAP.KD.ZG"","
"0","""TG.VAL.TOTL.GD.ZS"")"
"0","require(WDI)"
"0","# リストの中にあるすべての国のインジケータを引っ張ってくる"
"0","# すべての国が各指標を持ってはいない"
"0","# いくつかの国はデータが全くない"
"0","wbInfo <- WDI(country = ""all"" , indicator = indicators , start = 2011 ,"
"0","end = 2011 , extra = TRUE)"
"0","# 集約した情報を除く"
"0","wbInfo <- wbInfo[wbInfo$region != ""Aggregates"" ,]"
"0","# すべてのインジケータがNAの国を除く"
"0","wbInfo <- wbInfo[which(rowSums(!is.na(wbInfo[, indicators])) > 0) ,]"
"0","# ISOが無い行を除く"
"0","wbInfo <- wbInfo[!is.na(wbInfo$iso2c) ,]"
"0","# 国名を知ることができるようにrownamesを設定する"
"0","rownames(wbInfo) <- wbInfo$iso2c"
"0","# 地域を再度ファクター型に、収入や貸付は水準の変化を考慮する"
"0","wbInfo$region <- factor(wbInfo$region)"
"0","wbInfo$income <- factor(wbInfo$income)"
"0","wbInfo$lending <- factor(wbInfo$lending)"
